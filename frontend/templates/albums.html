{% extends "base.html" %}
{% block head %}
<title>Albums</title>
<meta name="description" content="Ephemeral's albums page">
<meta name="author" content="Max Zhou">
<script type="text/javascript" src="../static/js/tables.js"></script>
{% endblock %}

{% block nav_title %}
<a class="navbar-brand">Top Albums</a>
{% endblock %}

{% block nav_bar %}
<li class="nav-item">
  <a class="nav-link" href="{{url_for('index')}}">Home</a>
</li>
<li class="nav-item">
  <a class="nav-link " href="{{url_for('artists')}}">Artists</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="{{url_for('songs')}}">Songs</a>
</li>
<li class="nav-item">
  <a class="nav-link active" aria-current="page" href="{{url_for('albums')}}">Albums</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="{{url_for('about')}}">About Us</a>
</li>
{% endblock %}

{% block content %}

<div class="container">
    <br>
    <h2>Albums</h2>
    <p>A list of top albums and singles!</p>            

    <table id="table" class="table table-striped table-bordered table-sm table-hover" cellspacing="0" width="100%">
      <thead>
        <tr>
          <th class = "th-sm">Rank</th>
          <th class = "th-sm">Album Name</th>
          <th class = "th-sm">Album Release Date</th>
          <th class = "th-sm">Album Artist</th>
          <th class = "th-sm">Genre</th>
        </tr>
      </thead>
      <tbody>
        {%for album in albums%}
        <tr>
          <td>{{album[0]}}</td>
          {% if album.name != None %}
          <td class="point" onclick="window.location.href='/albums/{{ id(album.name) }}'">{{album.name}}  </td>
          {% else %}
          <td> N/A  </td>
          {% endif %}

          <td>{{album.album_release_date}}</td>

          {% if album.artist != None %}
          <td class="point" onclick="window.location.href='/artists/{{ id(album.artist) }}'">{{album.artist}}  </td>     
          {% else %}
          <td> N/A  </td>
          {% endif %}


          <td>{{format_strings(album.album_genre)}}</td>

        </tr>
        {% endfor %}
        
      </tbody>
    </table>
  </div>

{% endblock %}

<!-- <td class="point" onclick="window.location.href='/albums/{{ album }}'">{{albums[album]['name']}}  </td>
          <td>{{albums[album]['release']}}</td>
          <td class="point" onclick="window.location.href='/artists/{{ albums[album]['artist']['link'] }}'">{{ albums[album]['artist']['name'] }}</td>
          <td>{{albums[album]['type']}}</td>
          <td>{{albums[album]['genre']}}</td> -->
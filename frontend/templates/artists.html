{% extends "base.html" %}
{% block head %} 
<title>Artists</title>
<meta name="description" content="Ephemeral's artists page">
<meta name="author" content="Max Zhou">
<script type="text/javascript" src="../static/js/tables.js"></script>
{% endblock %}

{% block nav_title %}
<a class="navbar-brand">Popular Artists</a>
{% endblock %}

{% block nav_bar %}
<li class="nav-item">
  <a class="nav-link" href="{{url_for('index')}}">Home</a>
</li>
<li class="nav-item">
  <a class="nav-link active" aria-current="page" href="{{url_for('artists')}}">Artists</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="{{url_for('songs')}}">Songs</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="{{url_for('albums')}}">Albums</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="{{url_for('about')}}">About Us</a>
</li>
{% endblock %}

{% block content %}

<div class="container">
    <br>
    <h2>Artists</h2>
    <p>Popular artists and their info!</p>            
    <table id="table" class="table table-striped table-bordered table-sm table-hover" cellspacing="0" width="100%">
      <thead>
        <tr>
          <th class = "th-sm">Rank</th>
          <th class = "th-sm">Artist Name</th>
          <th class = "th-sm">Genre</th>
          <th class = "th-sm">Followers</th>
          <th class = "th-sm">Top Song</th>
        </tr>
      </thead>
      <tbody>
        {%for artist in artists%}
        <tr>
          <td>{{artist.artist_rank}}</td>

          <td class="point" onclick="window.location.href='/artists/{{ id(artist.artist_name) }}'">{{artist.artist_name}}  </td>
          
          <td>{{ format_strings(artist.artist_genre) }}</td>

          <td>{{artist.followers}}</td>

          {% if artist.song_name != None %}
          <td class="point" onclick="window.location.href='/songs/{{ id(artist.song_name) }}'">{{ artist.song_name }}</td>
          {% else %}
          <td>N/A</td>
          {% endif %}
          
        </tr>
        {% endfor %}
        
      </tbody>
    </table>
  </div>

{% endblock %}